<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <script src='https://unpkg.com/vue@next'></script>
    <link rel="stylesheet" href="styles.css">
    <title>Air-Fair Routes Page</title>

    <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
            integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
            crossorigin="anonymous"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        .navbar-brand.abs
        {
            position: absolute;
            width: auto;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }
    </style>
</head>
<body>


<div class="jumbotron text-center">
    <h1>Welcome to the Air-Fair Routes Page</h1>
</div>

</div>
<!--<script>
    const json = require('./flight_plans.json');
    const data = JSON.parse(json);
</script>-->
<div id="route-app">
    <h2 class="text-center">Route Application</h2>
    <!--<ul>
        <route-display
            v-for:'route in routes'
            v-bind:route='route'
            v-bind:key='route.id'
        ></route-display>
    </ul>-->
    <ul class="display: flex;  justify-content: center;">
        <li v-for="route in routes" class="list-group-item">
            Org/Dest: {{route.origin }}-->{{route.destination}} <br>
            Route of Flight: {{ route.route }} <br>
            Altitude: {{route.altitude}} <br>
        </li>
    </ul>
    <h2 class="text-center">Display using a locally registered Vue component</h2>
    <ol>
        <li v-for="route in routes" class="list-group-item">
            <flight-display :contrails="route.contrails" :origin="route.origin" :destination="route.destination"
                            :route="route.route" :altitude="route.altitude"></flight-display>
        </li>
    </ol>
</div>

<script>
    const routeList = {
        data() {
            return {
                routes: [
                    {
                        id: 1,
                        origin: 'KPHX',
                        destination: 'KLAX',
                        route: 'BXK4 BXK J212 DECAS',
                        altitude: 32000,
                        contrails: false
                    },
                    {
                        id: 2,
                        origin: 'KPHX',
                        destination: 'KSAN',
                        route: 'GBN J2 MZB',
                        altitude: 32000,
                        contrails: false
                    },
                    {
                        id: 3,
                        origin: 'KPHX',
                        destination: 'KSFO',
                        route: 'ZEPER2 RRSTA DOVEE BTY RUSME DYAMD5',
                        altitude: 32000,
                        contrails: false
                    },
                    {
                        id: 4,
                        origin: 'KPHX',
                        destination: 'KSEA',
                        route: 'ZEPER2 RRSTA DOVEE BTY OAL J92 LMT HAWKZ7',
                        altitude: 32000,
                        contrails: true
                    },
                    {
                        id: 5,
                        origin: 'KPHX',
                        destination: 'KDEN',
                        route: 'MRBIL1 JARPA SHNPS TBARR2',
                        altitude: 33000,
                        contrails: true
                    },
                    {
                        id: 6,
                        origin: 'KPHX',
                        destination: 'KABQ',
                        route: 'SJN9 SJN LAVAN3',
                        altitude: 33000,
                        contrails: false
                    },
                    {
                        id: 7,
                        origin: 'KPHX',
                        destination: 'KDAL',
                        route: 'BROAK1 MAXXO TXO TURKI HERBZ1',
                        altitude: 33000,
                        contrails: false
                    },
                    {
                        id: 8,
                        origin: 'KPHX',
                        destination: 'KMCO',
                        route: 'ECLPS1 PHASE EWM LINZY KH06Y JCT KH87I TBDRC REDFN REMIS Y280 CHRGE PRICY1',
                        altitude: 33000,
                        contrails: false
                    },
                    {
                        id: 9,
                        origin: 'KPHX',
                        destination: 'KHOU',
                        route: 'ECLPS1 PHASE ELP FST J138 SAT BELLR3',
                        altitude: 33000,
                        contrails: true
                    },
                    {
                        id: 10,
                        origin: 'KPHX',
                        destination: 'KJFK',
                        route: 'BROAK1 MAXXO TXO KF27A KF27C KF27E LIT BNA J42 BKW JASEN EMI SIE CAMRN4',
                        altitude: 33000,
                        contrails: true
                    }
                ]
            }
        },
        components: {
            'flight-display': {
                props: ['origin', 'destination', 'route', 'altitude', 'contrails'],
                template: `
                  <div :class="[contrails ? 'icing' : 'none']">
                  <a>Org/Dest: {{ origin }}-->{{ destination }} </a><br>
                  <a>Route: {{ route }} </a><br>
                  <a>Altitude: {{ altitude }} </a><br><br>
                  </div>

                  <h3 v-if=contrails>Contrail Are an Issue<br><button type="submit" class="btn btn-primary">Adjust Flight Plan</button></h3>
                  <h5 v-if=!contrails>No issue with contrails.</h5>
                `
            }
        }
    }

    const app = Vue.createApp(routeList).mount('#route-app');

    /*app.component('flight-display', {
        props: ['flight'],
        template: `<h4>{{ flight }}</h4>`
    });
    */
    /*app.component('route-display', {
        props: ['route'],
        template: `<li>{{ route.origin route.destination }}</li>`
    });*/
</script>

<script
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"
></script>

</body>
</html>